# Migration `20200611210611-init`

This migration has been generated by g4rcez at 6/11/2020, 9:06:11 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."server" ADD COLUMN "target_id" text  NOT NULL ;

ALTER TABLE "public"."server" ADD FOREIGN KEY ("target_id")REFERENCES "public"."target"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200611205256-init..20200611210611-init
--- datamodel.dml
+++ datamodel.dml
@@ -2,9 +2,9 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://postgres:12345@localhost:5432/prettycool?schema=public"
 }
 generator client {
   provider = "prisma-client-js"
@@ -15,8 +15,9 @@
   company_name  String
   domain        String          @unique
   company_email company_email[]
   protocol      protocol[]
+  server        server[]
 }
 model company_email {
   id          String @default(uuid()) @id
@@ -40,8 +41,10 @@
   id          String     @default(uuid()) @id
   ip          String     @unique
   ip_version  String
   location_id String
+  target      target     @relation(fields: [target_id], references: [id])
+  target_id   String
   protocols   protocol[]
   location    location   @relation(fields: [location_id], references: [id])
 }
```


